(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{355:function(t,e,_){"use strict";_.r(e);var v=_(1),r=Object(v.a)({},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),_("ClientOnly",[_("popover-demo-1")],1),t._v(" "),t._m(3),t._v(" "),_("ClientOnly",[_("popover-demo-2")],1),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8)],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"popover"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#popover","aria-hidden":"true"}},[this._v("#")]),this._v(" Popover")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"需求演示"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#需求演示","aria-hidden":"true"}},[this._v("#")]),this._v(" 需求演示")])},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("ul",[_("li",[t._v("击按钮弹出浮层，再次点击关闭浮层")]),t._v(" "),_("li",[t._v("如果容器上有 "),_("code",[t._v("overflow: hidden")]),t._v("，浮层依然能完整显示")]),t._v(" "),_("li",[t._v("浮层可以显示在四种位置："),_("code",[t._v("left right top bottom")])]),t._v(" "),_("li",[t._v("内容支持文本，"),_("code",[t._v("html")])]),t._v(" "),_("li",[t._v("支持点击 "),_("code",[t._v("popover")]),t._v(" 里的关闭按钮，进行关闭")]),t._v(" "),_("li",[t._v("支持 "),_("code",[t._v("click")]),t._v(" 触发")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("支持 "),e("code",[this._v("hover")]),this._v(" 触发")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api","aria-hidden":"true"}},[this._v("#")]),this._v(" API")])},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("table",[_("thead",[_("tr",[_("th",[t._v("参数")]),t._v(" "),_("th",[t._v("说明")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("默认值")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("trigger")]),t._v(" "),_("td",[t._v("触发方式")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td",[t._v("click")])]),t._v(" "),_("tr",[_("td",[t._v("position")]),t._v(" "),_("td",[t._v("弹出内容出现位置")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td",[t._v("top")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"实现的逻辑"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实现的逻辑","aria-hidden":"true"}},[this._v("#")]),this._v(" 实现的逻辑")])},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("ul",[_("li",[t._v("根据 "),_("code",[t._v("position")]),t._v(" 的传入，"),_("code",[t._v("prop")]),t._v(" 获取，给弹出的标签设定 "),_("code",[t._v("class")])]),t._v(" "),_("li",[t._v("使用了 "),_("code",[t._v("calc")]),t._v(" 计算 "),_("code",[t._v("css")]),t._v(" 长宽")]),t._v(" "),_("li",[t._v("使用 "),_("code",[t._v("addEventListene")]),t._v("r 来做"),_("code",[t._v("hover")]),t._v(" 和 "),_("code",[t._v("click")]),t._v(" 的事件监听，用传入的值来判断选择哪种监听方式")]),t._v(" "),_("li",[t._v("使用 "),_("code",[t._v("contains")]),t._v("来判断点击的元素是否包含目标元素")]),t._v(" "),_("li",[_("code",[t._v("popover")]),t._v(" 如果是一个过长的单词不换行，"),_("code",[t._v("word-break:break-all;")])]),t._v(" "),_("li",[_("code",[t._v("window.scrollY+top")]),t._v(" 和 "),_("code",[t._v("window.scrollX+left")]),t._v("，解决相对定位不准 bug")]),t._v(" "),_("li",[t._v("使用了 "),_("code",[t._v("beforeDestory")]),t._v("去除事件监听器,监听器过多会浪费内存,关闭 "),_("code",[t._v("popover removeEventListener")])])])},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("div",{staticClass:"language-js extra-class"},[_("pre",{pre:!0,attrs:{class:"language-js"}},[_("code",[_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//把popover放在body里,而不是在原来的同级元素里")]),t._v("\ndocument"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xxx"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])}],!1,null,null,null);e.default=r.exports}}]);